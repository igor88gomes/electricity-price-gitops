image:
  repository: ghcr.io/igor88gomes/electricity-price
  tag: ""
  digest: "sha256:c7e6ba2d6f578cb89e898c88cb4acf09e7c9f8695c4a92bbe83937c4fe41ab88"

resources:
  requests: { cpu: 75m, memory: 192Mi }
  limits:   { cpu: 300m, memory: 384Mi }
 
ingress:
  enabled: true
  className: nginx
  annotations: 
    nginx.ingress.kubernetes.io/ssl-redirect: "true"
    nginx.ingress.kubernetes.io/force-ssl-redirect: "true"
  hosts:
    - host: staging.electricity-price.local
      paths:
        - path: /
          pathType: Prefix
  tls: 
    enabled: true
    secretName: electricity-price-staging-tls

networkPolicy:
  enabled: true

serviceMonitor:
  enabled: true

alerts:
  enabled: true
  env: staging
  targetNamespace: electricity-staging

  errorRateThreshold: 0.02
  latencyP95Seconds: 0.3
  cpuCoresThreshold: 0.15
  memoryThresholdMi: 300

  downFor: 2m
  errorFor: 5m
  latencyFor: 5m
  cpuFor: 10m
  memoryFor: 10m
  crashFor: 5m

  upstreamErrorRateThreshold: 0.10
  upstreamFor: 10m

